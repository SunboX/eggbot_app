<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title data-i18n="app.title">EggBot Sorbische Eier</title>
        <link rel="icon" type="image/svg+xml" href="./assets/eggbot-icon.svg" />
        <link rel="stylesheet" href="./style.css" />
    </head>
    <body>
        <div class="page-shell">
            <header class="topbar">
                <div class="brand">
                    <img src="./assets/eggbot-icon.svg" alt="Egg icon" class="brand-icon" />
                    <div>
                        <h1 data-i18n="app.heading">Sorbische Eier Werkstatt</h1>
                        <p data-i18n="app.subtitle">EggBot pattern generator and drawing studio</p>
                    </div>
                </div>
                <div class="topbar-actions">
                    <div class="locale-group">
                        <label class="visually-hidden" for="locale-select" data-i18n="app.languageLabel">Language</label>
                        <select
                            id="locale-select"
                            data-locale-select
                            aria-label="Language"
                            data-i18n-aria-label="app.languageLabel"
                        >
                            <option value="en" data-i18n="locale.en">English</option>
                            <option value="de" data-i18n="locale.de">Deutsch</option>
                        </select>
                    </div>
                    <button class="ghost" data-regenerate data-i18n="toolbar.regenerate">Re-generate</button>
                    <button class="ghost" data-load-pattern data-i18n="toolbar.loadPattern">Load pattern (SVG)</button>
                    <button class="ghost" data-export-svg data-i18n="toolbar.exportSvg">Export SVG</button>
                    <button class="ghost" data-save-project data-i18n="toolbar.save">Save</button>
                    <button class="ghost" data-load-project data-i18n="toolbar.load">Load</button>
                    <button
                        class="ghost icon-button"
                        data-share-project
                        aria-label="Share project URL"
                        title="Share project URL"
                        data-i18n-aria-label="toolbar.shareAria"
                        data-i18n-title="toolbar.shareTitle"
                    >
                        <svg class="icon-share" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                            <line x1="8.3" y1="12.1" x2="14.1" y2="8.7"></line>
                            <line x1="8.3" y1="11.9" x2="14.1" y2="15.3"></line>
                            <circle cx="5.8" cy="12" r="3"></circle>
                            <circle cx="16.9" cy="6.4" r="3"></circle>
                            <circle cx="16.9" cy="17.6" r="3"></circle>
                        </svg>
                    </button>
                    <button class="primary" data-draw data-i18n="toolbar.draw">Draw</button>
                    <input type="file" accept=".svg,image/svg+xml" data-pattern-input hidden />
                    <input type="file" accept="application/json" data-load-input hidden />
                </div>
            </header>

            <main class="layout-grid">
                <aside class="panel controls-panel">
                    <section class="section">
                        <h2 data-i18n="project.title">Project</h2>
                        <label>
                            <span data-i18n="project.name">Name</span>
                            <input type="text" data-project-name />
                        </label>
                        <label>
                            <span data-i18n="project.preset">Preset</span>
                            <select data-preset>
                                <option value="traditional-mix" data-i18n="project.presets.traditionalMix">
                                    Traditional mix
                                </option>
                                <option value="punkte" data-i18n="project.presets.punkte">Punkte</option>
                                <option value="strahlen" data-i18n="project.presets.strahlen">
                                    Strahlen / Sonnenstrahlen
                                </option>
                                <option value="wabe" data-i18n="project.presets.wabe">Wabenmuster</option>
                                <option value="wolfszaehne" data-i18n="project.presets.wolfszaehne">Wolfszähne</option>
                                <option value="kiefernzweig" data-i18n="project.presets.kiefernzweig">Kiefernzweig</option>
                                <option value="feder-raute" data-i18n="project.presets.federRaute">Feder / Raute</option>
                            </select>
                        </label>
                        <div class="inline-row">
                            <label>
                                <span data-i18n="project.seed">Seed</span>
                                <input type="number" data-seed />
                            </label>
                            <button class="ghost" type="button" data-reroll-seed data-i18n="project.reroll">Reroll</button>
                        </div>
                    </section>

                    <section class="section">
                        <h2 data-i18n="pattern.title">Pattern controls</h2>
                        <label class="range-control">
                            <span data-i18n="pattern.symmetry">Symmetry</span>
                            <div class="range-row">
                                <input type="range" min="2" max="24" step="1" data-symmetry />
                                <span data-symmetry-label>8</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.density">Density</span>
                            <div class="range-row">
                                <input type="range" min="0.05" max="1" step="0.01" data-density />
                                <span data-density-label>0.58</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.bands">Ornament bands</span>
                            <div class="range-row">
                                <input type="range" min="1" max="16" step="1" data-bands />
                                <span data-bands-label>6</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.ornamentSize">Ornament size</span>
                            <div class="range-row">
                                <input type="range" min="0.5" max="2" step="0.05" data-ornament-size />
                                <span data-ornament-size-label>1.00</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.ornamentCount">Ornament count</span>
                            <div class="range-row">
                                <input type="range" min="0.5" max="2" step="0.05" data-ornament-count />
                                <span data-ornament-count-label>1.00</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.ornamentDistribution">Ornament distribution</span>
                            <div class="range-row">
                                <input type="range" min="0.6" max="1.6" step="0.05" data-ornament-distribution />
                                <span data-ornament-distribution-label>1.00</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.lineWidth">Line width</span>
                            <div class="range-row">
                                <input type="range" min="0.5" max="4" step="0.1" data-line-width />
                                <span data-line-width-label>1.8</span>
                            </div>
                        </label>
                        <label class="range-control">
                            <span data-i18n="pattern.importHeightScale">Pattern height / drawable zone</span>
                            <div class="range-row">
                                <input type="range" min="0.1" max="3" step="0.05" data-import-height-scale />
                                <span data-import-height-scale-label>1.00</span>
                            </div>
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-show-horizontal-lines />
                            <span data-i18n="pattern.showHorizontalLines">Show horizontal lines/rings</span>
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-fill-patterns />
                            <span data-i18n="pattern.fillPatterns">Fill closed pattern shapes</span>
                        </label>

                        <div class="motif-grid">
                            <label>
                                <input type="checkbox" data-motif-dots />
                                <span data-i18n="pattern.motifs.dots">Punkte</span>
                            </label>
                            <label>
                                <input type="checkbox" data-motif-rays />
                                <span data-i18n="pattern.motifs.rays">Strahlen</span>
                            </label>
                            <label>
                                <input type="checkbox" data-motif-honeycomb />
                                <span data-i18n="pattern.motifs.honeycomb">Wabe</span>
                            </label>
                            <label>
                                <input type="checkbox" data-motif-wolf-teeth />
                                <span data-i18n="pattern.motifs.wolfTeeth">Wolfszähne</span>
                            </label>
                            <label>
                                <input type="checkbox" data-motif-pine />
                                <span data-i18n="pattern.motifs.pine">Kiefernzweig</span>
                            </label>
                            <label>
                                <input type="checkbox" data-motif-diamond />
                                <span data-i18n="pattern.motifs.diamond">Feder/Raute</span>
                            </label>
                        </div>
                    </section>

                    <section class="section">
                        <h2 data-i18n="colors.title">Colors</h2>
                        <label>
                            <span data-i18n="colors.baseColor">Egg base color</span>
                            <input type="color" data-base-color />
                        </label>
                        <label>
                            <span data-i18n="colors.colorCount">Number of drawing colors</span>
                            <select data-color-count>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </label>
                        <div class="palette-list" data-palette-list></div>
                    </section>

                </aside>

                <section class="panel viewport-panel">
                    <h2 data-i18n="preview.title">3D Egg Preview</h2>
                    <p class="hint" data-i18n="preview.hint">Rotate with mouse or touch. Scroll/pinch to zoom.</p>
                    <canvas
                        data-egg-canvas
                        class="egg-canvas"
                        aria-label="Rotatable 3D egg preview"
                        data-i18n-aria-label="preview.canvasAria"
                    ></canvas>
                    <details>
                        <summary data-i18n="preview.textureMap">Texture map</summary>
                        <canvas data-texture-canvas width="2048" height="1024" class="texture-canvas"></canvas>
                    </details>
                </section>

                <aside class="panel machine-panel">
                    <section class="section">
                        <h2 data-i18n="machine.connectionTitle">EggBot connection</h2>
                        <label>
                            <span data-i18n="machine.connectionTransport">Transport</span>
                            <select data-connection-transport>
                                <option value="serial" data-i18n="machine.transportSerial">USB serial</option>
                                <option value="ble" data-i18n="machine.transportBle">Bluetooth LE</option>
                            </select>
                        </label>
                        <label data-machine-baud-rate-row>
                            <span data-i18n="machine.baudRate">Baud rate</span>
                            <input type="number" min="300" step="1" data-baud-rate />
                        </label>
                        <div data-machine-wifi-options hidden>
                            <label>
                                <span data-i18n="machine.wifiHost">Wi-Fi host / IP</span>
                                <input type="text" autocomplete="off" spellcheck="false" placeholder="192.168.1.42" data-wifi-host />
                            </label>
                            <label>
                                <span data-i18n="machine.wifiPort">Wi-Fi port</span>
                                <input type="number" min="1" max="65535" step="1" data-wifi-port />
                            </label>
                        </div>
                        <div class="inline-row compact">
                            <button class="ghost" type="button" data-serial-connect data-i18n="machine.connect">
                                Connect
                            </button>
                            <button class="ghost" type="button" data-serial-disconnect data-i18n="machine.disconnect">
                                Disconnect
                            </button>
                        </div>
                    </section>

                    <section class="section">
                        <h2 data-i18n="machine.controlTitle">EggBot control</h2>
                        <p class="hint" data-i18n="machine.controlHint">
                            Open the EggBot Control / Configuration dialog for setup, timing, options, and manual actions.
                        </p>
                        <button class="ghost" type="button" data-eggbot-control-open data-i18n="machine.openControlDialog">
                            Open EggBot control dialog
                        </button>
                        <button class="warn" type="button" data-stop data-i18n="machine.stopDraw">Stop draw</button>
                    </section>

                    <section class="section">
                        <h2 data-i18n="status.title">Status</h2>
                        <div class="status" data-status data-i18n="status.ready">
                            Ready. Generate a pattern and connect EggBot when you are ready to draw.
                        </div>
                        <div class="draw-progress" data-draw-progress hidden>
                            <div
                                class="draw-progress-track"
                                data-draw-progress-track
                                role="progressbar"
                                aria-valuemin="0"
                                aria-valuemax="100"
                                aria-valuenow="0"
                                data-i18n-aria-label="machine.drawProgressAria"
                            >
                                <div class="draw-progress-fill" data-draw-progress-fill></div>
                            </div>
                            <div class="draw-progress-meta">
                                <span class="draw-progress-remaining" data-draw-progress-percent>Remaining: 100%</span>
                                <span class="draw-progress-time" data-draw-progress-time>Remaining time: --:--</span>
                            </div>
                        </div>
                    </section>
                </aside>
            </main>
            <footer class="page-footer">
                <div class="footer-card">
                    <div class="footer-title" data-i18n="footer.title">Imprint</div>
                    <div class="footer-grid">
                        <div class="footer-block">
                            <div class="footer-label" data-i18n="footer.responsible">Responsible for this website</div>
                            <div class="footer-text">
                                <div>André Fiedler</div>
                                <div>Rädelstraße 7</div>
                                <div>08523 Plauen</div>
                                <div>Germany</div>
                            </div>
                        </div>
                        <div class="footer-block">
                            <div class="footer-label" data-i18n="footer.contact">Contact</div>
                            <div class="footer-text">
                                <a href="mailto:mail@andrefiedler.de">mail@andrefiedler.de</a>
                            </div>
                        </div>
                        <div class="footer-actions">
                            <div class="footer-meta">
                                <div class="footer-label" data-i18n="footer.versionLabel">Version</div>
                                <div class="footer-version-value" data-app-version>0.0.0</div>
                            </div>
                            <div class="footer-social">
                                <a
                                    class="icon-link"
                                    href="https://github.com/SunboX/eggbot_app"
                                    target="_blank"
                                    rel="noreferrer"
                                    aria-label="GitHub repository"
                                    title="GitHub"
                                    data-i18n-aria-label="footer.githubAria"
                                    data-i18n-title="footer.githubTitle"
                                >
                                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                                        <path
                                            d="M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.17 6.84 9.49.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.6-3.37-1.34-3.37-1.34-.45-1.15-1.11-1.46-1.11-1.46-.91-.62.07-.61.07-.61 1.01.07 1.54 1.03 1.54 1.03.9 1.53 2.36 1.09 2.94.83.09-.65.35-1.09.63-1.34-2.22-.25-4.56-1.11-4.56-4.95 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.02A9.5 9.5 0 0 1 12 6.8c.85 0 1.71.12 2.51.34 1.9-1.29 2.75-1.02 2.75-1.02.55 1.38.2 2.4.1 2.65.64.7 1.03 1.59 1.03 2.68 0 3.85-2.34 4.7-4.57 4.95.36.31.68.92.68 1.85 0 1.34-.01 2.41-.01 2.74 0 .26.18.58.69.48A10 10 0 0 0 22 12c0-5.52-4.48-10-10-10z"
                                        />
                                    </svg>
                                </a>
                                <a
                                    class="icon-link"
                                    href="https://mastodon.social/@sonnenkiste"
                                    target="_blank"
                                    rel="me noreferrer"
                                    aria-label="Mastodon profile"
                                    title="Mastodon"
                                    data-i18n-aria-label="footer.mastodonAria"
                                    data-i18n-title="footer.mastodonTitle"
                                >
                                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                                        <path
                                            d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"
                                        />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

        <div class="eggbot-dialog-backdrop" data-eggbot-dialog-backdrop hidden>
            <section
                class="eggbot-dialog"
                role="dialog"
                aria-modal="true"
                aria-labelledby="eggbot-control-title"
                data-eggbot-dialog
            >
                <header class="eggbot-dialog-header">
                    <h2 id="eggbot-control-title" data-i18n="controlDialog.title">EggBot Control</h2>
                    <button
                        class="eggbot-dialog-close-icon"
                        type="button"
                        aria-label="Close EggBot control dialog"
                        data-i18n-aria-label="controlDialog.closeAria"
                        data-eggbot-dialog-close-icon
                    >
                        ×
                    </button>
                </header>
                <nav class="eggbot-dialog-tabs" role="tablist" aria-label="EggBot control tabs" data-eggbot-tablist>
                    <button
                        type="button"
                        role="tab"
                        class="active"
                        aria-selected="true"
                        aria-controls="eggbot-panel-plot"
                        data-eggbot-tab-button
                        data-eggbot-tab="plot"
                        data-i18n="controlDialog.tabs.plot"
                    >
                        Plotten
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-setup"
                        data-eggbot-tab-button
                        data-eggbot-tab="setup"
                        data-i18n="controlDialog.tabs.setup"
                    >
                        Setup
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-timing"
                        data-eggbot-tab-button
                        data-eggbot-tab="timing"
                        data-i18n="controlDialog.tabs.timing"
                    >
                        Timing
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-options"
                        data-eggbot-tab-button
                        data-eggbot-tab="options"
                        data-i18n="controlDialog.tabs.options"
                    >
                        Optionen
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-manual"
                        data-eggbot-tab-button
                        data-eggbot-tab="manual"
                        data-i18n="controlDialog.tabs.manual"
                    >
                        Manual
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-resume"
                        data-eggbot-tab-button
                        data-eggbot-tab="resume"
                        data-i18n="controlDialog.tabs.resume"
                    >
                        Resume
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-layers"
                        data-eggbot-tab-button
                        data-eggbot-tab="layers"
                        data-i18n="controlDialog.tabs.layers"
                    >
                        Ebenen
                    </button>
                    <button
                        type="button"
                        role="tab"
                        aria-selected="false"
                        aria-controls="eggbot-panel-advanced"
                        data-eggbot-tab-button
                        data-eggbot-tab="advanced"
                        data-i18n="controlDialog.tabs.advanced"
                    >
                        Mapping
                    </button>
                </nav>

                <div class="eggbot-dialog-body">
                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-plot"
                        role="tabpanel"
                        data-eggbot-tab-panel="plot"
                    >
                        <h3 data-i18n="controlDialog.plot.title">Welcome to the EggBot interface!</h3>
                        <p data-i18n="controlDialog.plot.lineOne">Press 'Apply' to begin plotting.</p>
                        <p data-i18n="controlDialog.plot.lineTwo">
                            Or, look in the other tabs to adjust your settings and use additional EggBot functions.
                        </p>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-setup"
                        role="tabpanel"
                        data-eggbot-tab-panel="setup"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.setup.title">EggBot: Basic Setup</h3>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.setup.penUpPercent">Pen up position, 0-100%:</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-pen-up-percent"
                                    type="number"
                                    min="0"
                                    max="100"
                                    step="1"
                                    data-control-pen-up-percent
                                />
                                <button type="button" data-spin-step data-spin-target="control-pen-up-percent" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-pen-up-percent" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.setup.penDownPercent">Pen down position, 0-100%:</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-pen-down-percent"
                                    type="number"
                                    min="0"
                                    max="100"
                                    step="1"
                                    data-control-pen-down-percent
                                />
                                <button type="button" data-spin-step data-spin-target="control-pen-down-percent" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-pen-down-percent" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <div class="eggbot-radio-group">
                            <span data-i18n="controlDialog.setup.actionOnApply">Action on 'Apply':</span>
                            <label class="inline-check">
                                <input type="radio" name="eggbot-setup-action" value="toggle" data-control-setup-action-toggle />
                                <span data-i18n="controlDialog.setup.togglePen">Toggle pen up/down</span>
                            </label>
                            <label class="inline-check">
                                <input type="radio" name="eggbot-setup-action" value="raise-off" data-control-setup-action-raise-off />
                                <span data-i18n="controlDialog.setup.raisePenDisableMotors">Raise pen, turn off motors</span>
                            </label>
                        </div>
                        <p class="eggbot-note" data-i18n="controlDialog.setup.note">
                            Raise and lower the pen to verify pen-up and pen-down positions. Use "raise pen, turn off motors"
                            before aligning objects in the EggBot.
                        </p>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-timing"
                        role="tabpanel"
                        data-eggbot-tab-panel="timing"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.timing.movementTitle">Movement speeds:</h3>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.speedPenDown">Speed when pen is down (steps/s):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-speed-pen-down"
                                    type="number"
                                    min="10"
                                    max="4000"
                                    step="10"
                                    data-control-speed-pen-down
                                />
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-down" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-down" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.speedPenUp">Speed when pen is up (steps/s):</span>
                            <div class="eggbot-spinbox">
                                <input id="control-speed-pen-up" type="number" min="10" max="4000" step="10" data-control-speed-pen-up />
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-up" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-up" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.speedPenMotor">Speed limit of Motor 1 (pen, steps/s):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-speed-pen-motor"
                                    type="number"
                                    min="10"
                                    max="4000"
                                    step="10"
                                    data-control-speed-pen-motor
                                />
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-motor" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-speed-pen-motor" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.speedEggMotor">Speed limit of Motor 2 (egg, steps/s):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-speed-egg-motor"
                                    type="number"
                                    min="10"
                                    max="4000"
                                    step="10"
                                    data-control-speed-egg-motor
                                />
                                <button type="button" data-spin-step data-spin-target="control-speed-egg-motor" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-speed-egg-motor" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>

                        <h3 data-i18n="controlDialog.timing.penLiftTitle">Pen lift and lowering speeds:</h3>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.penRaiseRate">Pen raising speed (%/s):</span>
                            <div class="eggbot-spinbox">
                                <input id="control-pen-raise-rate" type="number" min="1" max="100" step="1" data-control-pen-raise-rate />
                                <button type="button" data-spin-step data-spin-target="control-pen-raise-rate" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-pen-raise-rate" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.delayAfterRaise">Delay after raising pen (ms):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-delay-after-raise"
                                    type="number"
                                    min="0"
                                    max="5000"
                                    step="10"
                                    data-control-delay-after-raise
                                />
                                <button type="button" data-spin-step data-spin-target="control-delay-after-raise" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-delay-after-raise" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.penLowerRate">Pen lowering speed (%/s):</span>
                            <div class="eggbot-spinbox">
                                <input id="control-pen-lower-rate" type="number" min="1" max="100" step="1" data-control-pen-lower-rate />
                                <button type="button" data-spin-step data-spin-target="control-pen-lower-rate" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-pen-lower-rate" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.timing.delayAfterLower">Delay after lowering pen (ms):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-delay-after-lower"
                                    type="number"
                                    min="0"
                                    max="5000"
                                    step="10"
                                    data-control-delay-after-lower
                                />
                                <button type="button" data-spin-step data-spin-target="control-delay-after-lower" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-delay-after-lower" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-options"
                        role="tabpanel"
                        data-eggbot-tab-panel="options"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.options.title">Advanced options:</h3>
                        <label class="inline-check">
                            <input type="checkbox" data-control-reverse-pen-motor />
                            <span data-i18n="controlDialog.options.reversePenMotor">Reverse motion of Motor 1 (pen)</span>
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-control-reverse-egg-motor />
                            <span data-i18n="controlDialog.options.reverseEggMotor">Reverse motion of Motor 2 (egg)</span>
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-control-wraps-around />
                            <span data-i18n="controlDialog.options.wrapAround">Egg (x) axis wraps around</span>
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-control-return-home />
                            <span data-i18n="controlDialog.options.returnHome">Return home when done</span>
                        </label>
                        <div class="eggbot-radio-group">
                            <span data-i18n="controlDialog.options.printColorModeTitle">Color printing mode:</span>
                            <label class="inline-check">
                                <input
                                    type="radio"
                                    name="eggbot-print-color-mode"
                                    value="single"
                                    data-control-print-color-mode-single
                                />
                                <span data-i18n="controlDialog.options.printColorModeSingle">Draw all strokes with one pen color</span>
                            </label>
                            <label class="inline-check">
                                <input
                                    type="radio"
                                    name="eggbot-print-color-mode"
                                    value="per-color"
                                    data-control-print-color-mode-per-color
                                />
                                <span data-i18n="controlDialog.options.printColorModePerColor">
                                    Draw each palette color separately
                                </span>
                            </label>
                        </div>
                        <p class="eggbot-note" data-i18n="controlDialog.options.printColorModeHint">
                            Separate-color mode pauses before each color to let you change pens.
                        </p>
                        <label class="inline-check">
                            <input type="checkbox" data-control-enable-engraver />
                            <span data-i18n="controlDialog.options.enableEngraver">Enable engraver, if attached</span>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.options.curveSmoothing">Curve smoothing (lower for more):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-curve-smoothing"
                                    type="number"
                                    min="0"
                                    max="2"
                                    step="0.05"
                                    data-control-curve-smoothing
                                />
                                <button type="button" data-spin-step data-spin-target="control-curve-smoothing" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-curve-smoothing" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-manual"
                        role="tabpanel"
                        data-eggbot-tab-panel="manual"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.manual.title">EggBot Manual Control</h3>
                        <p data-i18n="controlDialog.manual.description">
                            Send direct commands to EggBot. Use Apply to execute the selected command.
                        </p>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.manual.command">Command:</span>
                            <select data-control-manual-command>
                                <option value="disable-motors" data-i18n="controlDialog.manual.commands.disableMotors">
                                    Disable Motors
                                </option>
                                <option value="enable-motors" data-i18n="controlDialog.manual.commands.enableMotors">
                                    Enable Motors
                                </option>
                                <option value="raise-pen" data-i18n="controlDialog.manual.commands.raisePen">Raise Pen</option>
                                <option value="lower-pen" data-i18n="controlDialog.manual.commands.lowerPen">Lower Pen</option>
                                <option value="walk-egg" data-i18n="controlDialog.manual.commands.walkEgg">Walk Egg Motor</option>
                                <option value="walk-pen" data-i18n="controlDialog.manual.commands.walkPen">Walk Pen Motor</option>
                                <option value="query-version" data-i18n="controlDialog.manual.commands.queryVersion">
                                    Query EBB Version
                                </option>
                            </select>
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="controlDialog.manual.walkDistance">Walk distance (steps):</span>
                            <div class="eggbot-spinbox">
                                <input
                                    id="control-walk-distance"
                                    type="number"
                                    min="-64000"
                                    max="64000"
                                    step="1"
                                    data-control-walk-distance
                                />
                                <button type="button" data-spin-step data-spin-target="control-walk-distance" data-spin-direction="-1">
                                    -
                                </button>
                                <button type="button" data-spin-step data-spin-target="control-walk-distance" data-spin-direction="1">
                                    +
                                </button>
                            </div>
                        </label>
                        <p class="eggbot-note" data-i18n="controlDialog.manual.walkHint">
                            Walk distance may be positive or negative.
                        </p>
                        <p class="eggbot-note" data-i18n="controlDialog.manual.applyHint">
                            Press 'Apply' to execute the command.
                        </p>
                        <p class="eggbot-note eggbot-manual-result" data-control-manual-result role="status" aria-live="polite" hidden></p>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-resume"
                        role="tabpanel"
                        data-eggbot-tab-panel="resume"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.resume.title">Resume</h3>
                        <p data-i18n="controlDialog.resume.description">
                            Resume drawing from paused jobs is not available yet in this web edition.
                        </p>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-layers"
                        role="tabpanel"
                        data-eggbot-tab-panel="layers"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.layers.title">Layers</h3>
                        <p data-i18n="controlDialog.layers.description">
                            Layer-based plotting controls are not available yet in this web edition.
                        </p>
                    </section>

                    <section
                        class="eggbot-dialog-panel"
                        id="eggbot-panel-advanced"
                        role="tabpanel"
                        data-eggbot-tab-panel="advanced"
                        hidden
                    >
                        <h3 data-i18n="controlDialog.advanced.title">Machine mapping and raw values</h3>
                        <label class="eggbot-field">
                            <span data-i18n="machine.stepsPerTurn">Motor-2 steps / egg turn</span>
                            <input type="number" min="100" step="1" data-steps-per-turn />
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="machine.penRangeSteps">Motor-1 steps full pen travel</span>
                            <input type="number" min="100" step="1" data-pen-range-steps />
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="machine.msPerStep">Motion timing (ms per step)</span>
                            <input type="number" min="0.2" max="20" step="0.1" data-ms-per-step />
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="machine.servoUp">Servo up value (`SC,4`)</span>
                            <input type="number" min="0" step="1" data-servo-up />
                        </label>
                        <label class="eggbot-field">
                            <span data-i18n="machine.servoDown">Servo down value (`SC,5`)</span>
                            <input type="number" min="0" step="1" data-servo-down />
                        </label>
                        <label class="inline-check">
                            <input type="checkbox" data-invert-pen />
                            <span data-i18n="machine.invertPen">Invert pen up/down (`SP`) logic</span>
                        </label>
                    </section>
                </div>

                <footer class="eggbot-dialog-footer">
                    <button class="ghost" type="button" data-eggbot-dialog-close data-i18n="controlDialog.close">Schließen</button>
                    <button class="primary" type="button" data-eggbot-dialog-apply data-i18n="controlDialog.apply">Anwenden</button>
                </footer>
            </section>
        </div>

        <div class="eggbot-dialog-backdrop" data-pen-color-dialog-backdrop hidden>
            <section
                class="eggbot-dialog eggbot-pen-dialog"
                role="dialog"
                aria-modal="true"
                aria-labelledby="pen-color-dialog-title"
                data-pen-color-dialog
            >
                <header class="eggbot-dialog-header">
                    <h2 id="pen-color-dialog-title" data-pen-color-dialog-title>Pen change required</h2>
                    <button
                        class="eggbot-dialog-close-icon"
                        type="button"
                        aria-label="Close pen color dialog"
                        data-pen-color-dialog-close
                    >
                        ×
                    </button>
                </header>

                <div class="eggbot-dialog-body eggbot-pen-dialog-body">
                    <section class="eggbot-dialog-panel eggbot-pen-dialog-panel">
                        <p class="eggbot-pen-dialog-message" data-pen-color-dialog-message>
                            Insert the requested pen color and continue.
                        </p>
                    </section>
                </div>

                <footer class="eggbot-dialog-footer">
                    <button class="ghost" type="button" data-pen-color-dialog-cancel data-i18n="messages.penColorDialogCancel">
                        Cancel
                    </button>
                    <button
                        class="primary"
                        type="button"
                        data-pen-color-dialog-continue
                        data-i18n="messages.penColorDialogContinue"
                    >
                        Continue
                    </button>
                </footer>
            </section>
        </div>

        <div class="webmcp-declarative" aria-hidden="true">
            <form
                data-webmcp-form-get-state
                toolname="eggbot_form_get_state"
                tooldescription="Return the current EggBot app state snapshot."
                toolautosubmit
            >
                <button type="submit">Get state</button>
            </form>

            <form
                data-webmcp-form-design
                toolname="eggbot_form_apply_design"
                tooldescription="Apply EggBot design and pattern-generation settings."
                toolautosubmit
            >
                <input
                    type="text"
                    name="projectName"
                    toolparamtitle="Project Name"
                    toolparamdescription="Optional project name to apply."
                />
                <input type="number" name="seed" toolparamdescription="Optional numeric random seed." />
                <input
                    type="text"
                    name="preset"
                    toolparamdescription="Optional motif preset key, such as traditional-mix."
                />
                <input type="number" name="symmetry" toolparamdescription="Optional symmetry value between 2 and 24." />
                <input type="number" step="0.01" name="density" toolparamdescription="Optional density value between 0.05 and 1." />
                <input type="number" name="bands" toolparamdescription="Optional number of ornament bands." />
                <input type="number" step="0.01" name="ornamentSize" toolparamdescription="Optional ornament size scale." />
                <input type="number" step="0.01" name="ornamentCount" toolparamdescription="Optional ornament count scale." />
                <input
                    type="number"
                    step="0.01"
                    name="ornamentDistribution"
                    toolparamdescription="Optional ornament distribution scale."
                />
                <input type="number" step="0.1" name="lineWidth" toolparamdescription="Optional line width in preview pixels." />
                <input
                    type="number"
                    step="0.05"
                    name="importHeightScale"
                    toolparamdescription="Optional drawable height scale."
                />
                <select
                    name="showHorizontalLines"
                    toolparamdescription="Optional boolean. Set to true or false to toggle horizontal guide rings."
                >
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select
                    name="fillPatterns"
                    toolparamdescription="Optional boolean. Set to true or false to toggle shape fills."
                >
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select
                    name="rerollSeed"
                    toolparamdescription="Optional boolean. True rerolls seed before rendering."
                >
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select
                    name="regenerate"
                    toolparamdescription="Optional boolean. True forces pattern regeneration."
                >
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <button type="submit">Apply design</button>
            </form>

            <form
                data-webmcp-form-color
                toolname="eggbot_form_apply_color"
                tooldescription="Apply EggBot color settings."
                toolautosubmit
            >
                <input type="text" name="baseColor" toolparamdescription="Optional base egg color as CSS color value." />
                <input
                    type="number"
                    min="1"
                    max="6"
                    step="1"
                    name="colorCount"
                    toolparamdescription="Optional number of active drawing colors from 1 to 6."
                />
                <input type="text" name="palette1" toolparamdescription="Optional drawing color #1 as CSS color value." />
                <input type="text" name="palette2" toolparamdescription="Optional drawing color #2 as CSS color value." />
                <input type="text" name="palette3" toolparamdescription="Optional drawing color #3 as CSS color value." />
                <input type="text" name="palette4" toolparamdescription="Optional drawing color #4 as CSS color value." />
                <input type="text" name="palette5" toolparamdescription="Optional drawing color #5 as CSS color value." />
                <input type="text" name="palette6" toolparamdescription="Optional drawing color #6 as CSS color value." />
                <button type="submit">Apply colors</button>
            </form>

            <form
                data-webmcp-form-motifs
                toolname="eggbot_form_apply_motifs"
                tooldescription="Apply EggBot motif toggles."
                toolautosubmit
            >
                <select name="dots" toolparamdescription="Optional boolean toggle for Punkte motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="rays" toolparamdescription="Optional boolean toggle for Strahlen motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="honeycomb" toolparamdescription="Optional boolean toggle for Waben motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="wolfTeeth" toolparamdescription="Optional boolean toggle for Wolfszaehne motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="pineBranch" toolparamdescription="Optional boolean toggle for pine-branch motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="diamonds" toolparamdescription="Optional boolean toggle for diamond motif.">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <button type="submit">Apply motifs</button>
            </form>

            <form
                data-webmcp-form-draw-config
                toolname="eggbot_form_apply_draw_config"
                tooldescription="Apply EggBot machine and draw configuration settings."
                toolautosubmit
            >
                <select name="connectionTransport" toolparamdescription="Optional transport selection.">
                    <option value=""></option>
                    <option value="serial">serial</option>
                    <option value="ble">ble</option>
                </select>
                <input type="number" name="baudRate" />
                <input type="text" name="wifiHost" />
                <input type="number" name="wifiPort" />
                <select name="wifiSecure">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <input type="number" name="stepsPerTurn" />
                <input type="number" name="penRangeSteps" />
                <input type="number" step="0.01" name="msPerStep" />
                <input type="number" name="servoUp" />
                <input type="number" name="servoDown" />
                <select name="invertPen">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <input type="number" step="0.1" name="penUpPercent" />
                <input type="number" step="0.1" name="penDownPercent" />
                <input type="number" name="penDownSpeed" />
                <input type="number" name="penUpSpeed" />
                <input type="number" name="penMotorSpeed" />
                <input type="number" name="eggMotorSpeed" />
                <input type="number" name="penRaiseRate" />
                <input type="number" name="penRaiseDelayMs" />
                <input type="number" name="penLowerRate" />
                <input type="number" name="penLowerDelayMs" />
                <select name="reversePenMotor">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="reverseEggMotor">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="wrapAround">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="returnHome">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <select name="printColorMode">
                    <option value=""></option>
                    <option value="single">single</option>
                    <option value="per-color">per-color</option>
                </select>
                <select name="engraverEnabled">
                    <option value=""></option>
                    <option value="true">true</option>
                    <option value="false">false</option>
                </select>
                <input type="number" step="0.01" name="curveSmoothing" />
                <select name="setupApplyAction">
                    <option value=""></option>
                    <option value="toggle">toggle</option>
                    <option value="raise-off">raise-off</option>
                </select>
                <select name="manualCommand">
                    <option value=""></option>
                    <option value="disable-motors">disable-motors</option>
                    <option value="enable-motors">enable-motors</option>
                    <option value="raise-pen">raise-pen</option>
                    <option value="lower-pen">lower-pen</option>
                    <option value="walk-egg">walk-egg</option>
                    <option value="walk-pen">walk-pen</option>
                    <option value="query-version">query-version</option>
                </select>
                <input type="number" name="manualWalkDistance" />
                <select name="activeControlTab">
                    <option value=""></option>
                    <option value="plot">plot</option>
                    <option value="setup">setup</option>
                    <option value="timing">timing</option>
                    <option value="options">options</option>
                    <option value="manual">manual</option>
                    <option value="resume">resume</option>
                    <option value="layers">layers</option>
                    <option value="advanced">advanced</option>
                </select>
                <button type="submit">Apply draw config</button>
            </form>

            <form
                data-webmcp-form-reroll-seed
                toolname="eggbot_form_reroll_seed"
                tooldescription="Generate a new seed and regenerate the pattern."
                toolautosubmit
            >
                <button type="submit">Reroll seed</button>
            </form>

            <form
                data-webmcp-form-regenerate
                toolname="eggbot_form_regenerate_pattern"
                tooldescription="Regenerate the current pattern output."
                toolautosubmit
            >
                <button type="submit">Regenerate pattern</button>
            </form>

            <form
                data-webmcp-form-import-svg
                toolname="eggbot_form_import_svg_text"
                tooldescription="Import an EggBot pattern from raw SVG text."
                toolautosubmit
            >
                <textarea name="svgText" toolparamdescription="Raw SVG text to import." required></textarea>
                <input type="text" name="fileName" toolparamdescription="Optional SVG file name hint." />
                <input
                    type="number"
                    step="0.05"
                    name="importHeightScale"
                    toolparamdescription="Optional imported pattern height scale."
                />
                <button type="submit">Import SVG text</button>
            </form>

            <form
                data-webmcp-form-project
                toolname="eggbot_form_apply_project_json"
                tooldescription="Apply EggBot project JSON."
                toolautosubmit
            >
                <textarea name="project"></textarea>
                <button type="submit">Apply project</button>
            </form>

            <form
                data-webmcp-form-get-project-json
                toolname="eggbot_form_get_project_json"
                tooldescription="Return normalized EggBot project JSON."
                toolautosubmit
            >
                <button type="submit">Get project JSON</button>
            </form>

            <form
                data-webmcp-form-get-share-url
                toolname="eggbot_form_get_share_url"
                tooldescription="Return a share URL for the current EggBot project."
                toolautosubmit
            >
                <button type="submit">Get share URL</button>
            </form>

            <form
                data-webmcp-form-build-export-svg
                toolname="eggbot_form_build_export_svg"
                tooldescription="Return SVG export text for the current EggBot pattern."
                toolautosubmit
            >
                <button type="submit">Build export SVG</button>
            </form>

            <form
                data-webmcp-form-machine
                toolname="eggbot_form_machine_action"
                tooldescription="Run EggBot machine action."
                toolautosubmit
            >
                <select name="action">
                    <option value="connect">connect</option>
                    <option value="disconnect">disconnect</option>
                    <option value="draw">draw</option>
                    <option value="stop">stop</option>
                </select>
                <select name="confirm">
                    <option value="false">false</option>
                    <option value="true">true</option>
                </select>
                <button type="submit">Run machine action</button>
            </form>

            <form
                data-webmcp-form-local
                toolname="eggbot_form_local_project_action"
                tooldescription="Run local project storage action."
                toolautosubmit
            >
                <select name="action">
                    <option value="list">list</option>
                    <option value="store">store</option>
                    <option value="load">load</option>
                    <option value="delete">delete</option>
                </select>
                <input type="text" name="name" />
                <input type="text" name="id" />
                <select name="confirm">
                    <option value="false">false</option>
                    <option value="true">true</option>
                </select>
                <button type="submit">Run local action</button>
            </form>

            <form
                data-webmcp-form-locale
                toolname="eggbot_form_set_locale"
                tooldescription="Set the EggBot app locale."
                toolautosubmit
            >
                <select name="locale">
                    <option value="en">en</option>
                    <option value="de">de</option>
                </select>
                <button type="submit">Set locale</button>
            </form>
        </div>

        <script>
            window.__webModelContextOptions = {
                transport: {
                    tabServer: {
                        allowedOrigins: ['*']
                    }
                }
            }
        </script>
        <script src="/node_modules/@mcp-b/global/dist/index.iife.js"></script>
        <script type="importmap">
            {
                "imports": {
                    "three": "/node_modules/three/build/three.module.js",
                    "three/addons/": "/node_modules/three/examples/jsm/"
                }
            }
        </script>
        <script type="module" src="./main.mjs"></script>
    </body>
</html>
